<script type="text/javascript">
setTimeout(function () { window.enableAutoHideLoaderForTheFirstTime = false }, 500)
model.PageTopMenu("Data Masters");
model.PageId('{{.Menuname}}');
model.BreadCrumbs.push(new BreadCrumb("Data Masters", "Data Masters", "#", "", ""));
model.BreadCrumbs.push(new BreadCrumb('{{.Menuname}}', '{{.Menuname}}', "#", "active", ""));
model.Access = ko.observable('{{.Menuid}}');
model.View = ko.observable('{{.View}}');
model.Create= ko.observable('{{.Create}}');
model.Delete= ko.observable('{{.Delete}}');
model.Process= ko.observable('{{.Process}}');
model.Edit= ko.observable('{{.Edit}}')
model.User= ko.observable('{{.Username}}');
</script>

<script src="/static/core/rating-input.js"></script>

<style>
	.k-grid {
		font-size: inherit;
		font-family: inherit;
	}
	.btn.btn-tag {
		background-color: #f9f9f9;
	    border: none;
	    pointer-events: none;
	}
	.btn.btn-tag.btn-primary {
	    color: #337ab7;
	}
	.btn.btn-tag.btn-success {
		color: #5cb85c;
	}
	.btn.btn-tag.btn-warning {
		color: #f0ad4e;
	}

	/*.grid .k-grid-header .k-grid-header-locked table thead tr {
		height: 100% !important;
	}*/
	/*.grid .k-grid-header .k-grid-header-locked table thead tr:first-child {
		height: 100px !important;
	}*/

	.k-grid tr:not(.k-footer-template):hover {
		color: inherit;
	}
	.k-grid tr:hover, .k-grid tr:hover, .k-grid tr.hover, .k-grid tr.hover {
		background-color: transparent;
	}
	.k-grid .k-header {
	    text-align: left !important;
	}
	.coba{
		background-color: #f1f1f1;
	}
	.lagi{
		background-color: red;
	}
	.k-alt{
		background-color: white !important;
	}
	.three{
		/*background-color: rgb(134,225,212) !important;*/
	}
	.align-center{
		text-align: center;
	}
	.modal-dialog{
		width: 800px;
		max-height: 650px;
		overflow-y: scroll;
	}

	.form-custom{
		margin-top: 5px;
		border: 1px solid #bebebe;
		border-radius: 10px;
	}
	.form-custom .col-sm-4,.col-sm-6,.col-md-1{
		margin-top: 5px;
	}
</style>

<div data-bind="with: ratingMaster, visible: (r.mode() == 'main')">
	<div class="col-md-12 col-sm-12 ez panel-content">
		<div class="panel ez">
			<div class="panel-body">
				<div class="filter col-md-12 no-padding hardcore align-right">
					<button class="btn btn-sm btn-confirm" data-bind="click: r.newRatingModel">New Rating Model</button>
					<button class="btn btn-sm btn-freeze" data-bind="click: r.refreshMain">Refresh</button>
				</div>
				<div class="clearfix"></div>
				<div style="padding-top: 10px;">
					<div class="main"></div>
				</div>
			</div>
		</div>
	</div>
</div>

<div data-bind="with: ratingMaster, visible: (r.mode() == 'detail')">
	<div class="col-md-12 col-sm-12 ez panel-content">
		<div class="panel ez">
			<div class="panel-body">
				<div class="filter col-md-12 no-padding hardcore align-right">
					<button class="btn btn-sm btn-reset" data-bind="click: r.backToMain"><i class="fa fa-arrow-left"></i> Back</button>
					<button class="btn btn-sm btn-add" data-bind="click: r.showFormAdd">Add New</button>
					<button class="btn btn-sm btn-freeze" data-bind="click: r.refresh">Refresh</button>
					<button class="btn btn-sm btn-save" data-bind="click: r.save">Save Changes</button>
					<button class="btn btn-sm btn-confirm" data-bind="click: r.expandfunction">Expand/Collapse all</button>
					<!-- <a class="btn btn-sm btn-primary" target="_blank" href="/ratio/input">
						<i class="fa fa-eye"></i> View Result
					</a> -->
				</div>
				<div class="clearfix"></div>
				<!-- <div class="filter col-md-6 no-padding hardcore">
					<label class="col-md-4 form-label">Choose model</label>
					<div class="col-md-8">
						<select style="width: 100%;" data-bind="kendoMultiSelect: { data: r.data, dataValueField: 'Id', dataTextField: 'Name', value: selectedData, placeholder: 'Choose models' }"></select>
					</div>
				</div>
				<div class="clearfix"></div> -->
				<div style="padding-top: 10px;">
					<div class="grid"></div>
				</div>
			</div>
		</div>
	</div>

</div>

<div class="modal fade modal-add-new">
	<div class="modal-dialog">
		<form class="form-add">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
					<h4 class="modal-title">Form Add New</h4>
				</div>
				<div class="modal-body">
					<div class="row" data-bind="with: r.newData" />
					    <div class="col-sm-12">
					        <div class="form-group">
					            <label class="col-sm-4 form-label align-right">Parameters Group</label>
					        	<div class="col-sm-6">
				        			<input type="text" class="form-control input-sm" placeholder="Type parameters group name here" required data-bind="value: ParametersGroup" onkeyup="r.emptyDropDown(this)" />
					        	</div>
					        	<div class="clearfix"></div>
				        	</div>
					    </div>
					    <div class="col-sm-12">
					        <div class="form-group">
					        	<div class="col-sm-offset-4 col-sm-6">
					        		<label class="col-sm-4 form-control-label">Or choose :</label>
					        		<div class="col-md-8 no-padding hardcore">
					        			<select style="width: 100%;" data-bind="kendoDropDownList: { data: r.optionParametersGroup, value: ParametersGroup, optionLabel: 'Select one',select: changeparamgroup }"></select>
					        		</div>
					        	</div>
					        	<div class="clearfix"></div>
				        	</div>
					    </div>
					    <div class="col-sm-12">
					        <div class="form-group">
					            <label class="col-sm-4 form-label align-right">Parameters</label>
					        	<div class="col-sm-6">
				        			<input type="text" class="form-control input-sm" placeholder="Type parameters name here" data-bind="value: Parameters" onkeyup="r.emptyDropDown(this)" />
					        	</div>
					        	<div class="clearfix"></div>
				        	</div>
					    </div>
					    <div class="col-sm-12">
					        <div class="form-group">
					        	<div class="col-sm-offset-4 col-sm-6">
					        		<label class="col-sm-4 form-control-label">Or choose :</label>
					        		<div class="col-md-8 no-padding hardcore">
					        			<select style="width: 100%;" data-bind="kendoDropDownList: { data: r.optionParameters, value: Parameters, optionLabel: 'Select one' }"></select>
					        		</div>
					        	</div>
					        	<div class="clearfix"></div>
				        	</div>
					    </div>

					    <div class="form-group">
			    		<div class="col-sm-6">
				            <label class="col-sm-4 form-label align-right">Select source</label>
				        	<div class="col-sm-8">
			        			<select style="width: 100%;" data-bind="kendoDropDownList: { data: formula.optionFrom, dataValueField: 'name', dataTextField: 'name', value: From, optionLabel: 'Select one', change: formula.changeFrom }"></select>
				        	</div>
				        	<div class="clearfix"></div>
				        </div>

			    		<div class="col-sm-6">
				            <label class="col-sm-4 form-label align-right">Select field</label>
				        	<div class="col-sm-8">
			        			<select style="width: 100%;" data-bind="kendoDropDownList: { filter: 'contains', data: formula.optionFields, dataValueField: 'alias', dataTextField: 'name', value: FieldId, optionLabel: 'Select one', change: formula.selectField }"></select>
				        	</div>
				        	<div class="clearfix"></div>
				        </div>
			        	<div class="clearfix"></div>

				        <div class="col-sm-6">
				            <label class="col-sm-4 form-label align-right">Time Period</label>
				        	<div class="col-sm-8">
			        			<select style="width: 100%;" data-bind="kendoDropDownList: { data: formula.optionTimePeriod, dataValueField: 'value', dataTextField: 'text', value: TimePeriod, optionLabel: 'Select one' }"></select>
				        	</div>
				        	<div class="clearfix"></div>
				        </div>

			    		<!-- <div class="col-sm-6" data-bind="style: { visibility: (formula.optionSubSection().length > 0) ? 'visible' : 'hidden' }">
				            <label class="col-sm-4 form-label align-right">Select sub section</label>
				        	<div class="col-sm-8">
			        			<select style="width: 100%;" data-bind="kendoDropDownList: { filter: 'contains', data: formula.optionSubSection, value: formula.selectedSubSection, optionLabel: 'Select one' }"></select>
				        	</div>
				        	<div class="clearfix"></div>
				        </div> -->
				        	<div class="clearfix"></div>

		            </div>

					    <!-- <div class="col-sm-12"> -->
					        <!-- <div class="form-group"> -->
					        <div class="col-md-6">
					          <label class="col-sm-4 form-label align-right">Categories</label>
					        	<div class="col-sm-6">
					        		<button type="button" class="btn btn-success btn-sm" onclick="addcategorymen()">Add Category</button><br><br>
				        	<!-- 		<div class="col-xs-12" style="padding: 0">
					        			<div class="col-xs-9" style="padding: 0">
					        				<input type="text" class="form-control input-sm" placeholder="Type categories name here" required data-bind="value: Categories" />
					        			</div>
				        			</div> -->
					        	</div>
					        	</div>
					        	<!-- <div class="col-md-12"> -->
				        			<div class="col-xs-12" style="padding: 0;" data-bind="foreach: MultipleCategories">

<!-- tamabahan -->
				        				
<!-- end tambahan -->

				    <div class="form-custom col-md-12">
				    <div class="col-md-11">

						<div class="col-sm-6">
				            <label class="col-sm-4 form-label align-right">Category Label</label>
				        	<div class="col-sm-8">
				        					<input type="text" class="form-control input-sm" placeholder="Type categories name here" required data-bind="value: Categories" />
				        				</div>
				        	<div class="clearfix"></div>
				        </div>

				        <div class="col-sm-6">
				            <label class="col-sm-4 form-label align-right">Select operator</label>
				        	<div class="col-sm-8">
			        			<select style="width: 100%;" data-bind="enable: !r.dropDownMode(),kendoDropDownList: { data: formula.optionNormTypes, dataValueField: 'value', dataTextField: 'text', value: Operator, change: formula.selectNormType($index()), optionLabel: 'Select one' }"></select>
				        	</div>
			            </div>
				        	<div class="clearfix"></div>




<!-- 				        				<div class="col-xs-3" style="padding-top: 5px;">
				        					<button type="button" class="btn btn-danger btn-sm">X</button>
				        				</div> -->

				     	<!-- <div class="row"> -->

				     	<div class="" data-bind="visible: (Operator() == 'min')">
				    	<div class="col-sm-6">
				            <label class="col-sm-4 form-label align-right">Min Value</label>
				        	<div class="col-sm-8">
			        			<input type="text" class="form-control input-sm" data-bind="value: Value1" />
				        	</div>
				        	<div class="clearfix"></div>
			            </div>
			            
			            <div class="clearfix"></div>
		            </div>

			        <div class="" data-bind="visible: (Operator() == 'max')">
				    	<div class="col-sm-6">
				            <label class="col-sm-4 form-label align-right">Max Value</label>
				        	<div class="col-sm-8">
			        			<input type="text" class="form-control input-sm" data-bind="value: Value1" />
				        	</div>
				        	<div class="clearfix"></div>
			            </div>
			            
			            <div class="clearfix"></div>
		            </div>

			        <div class="" data-bind="visible: (Operator() == 'greater than or equal')">
				    	<div class="col-sm-6">
				            <label class="col-sm-4 form-label align-right">Gt or Eq Value</label>
				        	<div class="col-sm-8">
			        			<input type="text" class="form-control input-sm" data-bind="value: Value1" />
				        	</div>
				        	<div class="clearfix"></div>
			            </div>
			            
			            <div class="clearfix"></div>
		            </div>

			        <div class="" data-bind="visible: (Operator() == 'lower than or equal')">
				    	<div class="col-sm-6">
				            <label class="col-sm-4 form-label align-right">Lt or Eq Value</label>
				        	<div class="col-sm-8">
			        			<input type="text" class="form-control input-sm" data-bind="value: Value1" />
				        	</div>
				        	<div class="clearfix"></div>
			            </div>
			            
			            <div class="clearfix"></div>
		            </div>

			        <div class="" data-bind="visible: (Operator() == 'equal')">
				    	<div class="col-sm-6">
				            <label class="col-sm-4 form-label align-right">Equal Value</label>
				        	<div class="col-sm-8">
			        			<input type="text" class="form-control input-sm" data-bind="enable: !r.dropDownMode() ,value: Value1" />
				        	</div>
				        	<div class="clearfix"></div>
			            </div>
			            
			            <div class="clearfix"></div>
		            </div>

			        <div class="" data-bind="visible: (Operator() == 'between')">
				    	<div class="col-sm-6">
				            <label class="col-sm-4 form-label align-right">Value between</label>
				        	<div class="col-sm-8">
			        			<input type="text" class="form-control input-sm" data-bind="value: Value1" />
				        	</div>
				        	<div class="clearfix"></div>
			            </div>

				    	<div class="col-sm-6">
				            <label class="col-sm-4 form-label align-right">and</label>
				        	<div class="col-sm-8">
			        			<input type="text" class="form-control input-sm" data-bind="value: Value2" />
				        	</div>
				        	<div class="clearfix"></div>
			            </div>
			            
			            <div class="clearfix"></div>

				     	</div>
				     	<!-- </div> -->

				     	</div>
				     	  <div class="col-md-1">
				        	<button class="btn btn-flat btn-sm btn-danger noable" data-bind="click: r.removeCategory($index(),$data.Id),visible: ($index() > 0 && !r.dropDownMode())"><i class="fa fa-trash"></i></button>
				        </div>
				        			</div>
				      
					        	<div class="clearfix"></div>
				        	<!-- </div> -->
				        	</div>
				     </div>

					    <!-- </div> -->
					<!-- </div> -->
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Close</button>
					<button type="submit" class="btn btn-sm btn-save">Save</button>
				</div>
			</div>
		</form>
	</div>
</div>


<!-- <div class="modal fade modal-history">
	<div class="modal-dialog" style="width: 900px;">
		<form class="form-add">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
					<h4 class="modal-title">Show History</h4>
				</div>
				<div class="modal-body">
					<div class="grid-history"></div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</form>
	</div>
</div> -->
